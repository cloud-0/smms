<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>华联超市管理系统</title>
    <!-- jquery.js -->
    <script src="./libs/jQuery/jquery.js"></script>
    <!-- vue.min.js -->
    <script src="./libs/Vue/vue.min.js"></script>
    <!-- elementUI.min.js -->
    <script src="./libs/elementUI/js/elementUI.min.js"></script>
    <!-- elementUI.min.css -->
    <link rel="stylesheet" href="./libs/elementUI/css/elementUI.min.css">
    <!-- 自定义css -->
    <link rel="stylesheet" href="./styles/index.css">
    <!-- 根据cookie检测是否登录 -->
    <script src="/users/checkIsLogin"></script>
</head>

<body>
    <div id="app">
        <div class="container">
            <!-- 整体布局 -->
            <el-container>
                <!-- 左侧 -->
                <el-aside width="230px">
                    <h2 class="title">华联超市管理系统</h2>
                    <p>欢迎您&emsp;{{ username }}</p>
                    <p><a href="">管理首页</a> | <a href="/users/logout">退出系统</a></p>
                    <!-- 侧边导航 -->
                    <el-menu default-active="2" :unique-opened="true" :default-openeds="['1']" :default-active="'1-1'" class="el-menu-vertical-demo">
                        <!-- 系统管理 -->
                        <el-submenu index="1">
                            <template slot="title">
                                <span>系统管理</span>
                            </template>
                            <el-menu-item-group>
                                <el-menu-item index="1-1"><a href="./main.html" target="mainWrap">系统信息</a></el-menu-item>
                            </el-menu-item-group>
                        </el-submenu>
                        <!-- 账号管理 -->
                        <el-submenu index="2">
                            <template slot="title">
                                <span>账号管理</span>
                            </template>
                            <el-menu-item-group>
                                <el-menu-item index="2-1"><a href="./userAdd.html" target="mainWrap">添加账号</a></el-menu-item>
                                <el-menu-item index="2-2"><a href="./userList.html" target="mainWrap">账号管理</a></el-menu-item>
                                <el-menu-item index="2-3"><a href="./pwdEdit.html" target="mainWrap">修改密码</a></el-menu-item>
                            </el-menu-item-group>
                        </el-submenu>
                        <!-- 商品管理 -->
                        <el-submenu index="3">
                            <template slot="title">
                                <span>商品管理</span>
                            </template>
                            <el-menu-item-group>
                                <el-menu-item index="3-1"><a href="./goodsAdd.html" target="mainWrap">添加商品</a></el-menu-item>
                                <el-menu-item index="3-2"><a href="./goodsList.html" target="mainWrap">管理商品</a></el-menu-item>
                            </el-menu-item-group>
                        </el-submenu>
                        <!-- 会员管理 -->
                        <el-submenu index="4">
                            <template slot="title">
                                <span>会员管理</span>
                            </template>
                            <el-menu-item-group>
                                <el-menu-item index="4-1">选项1</el-menu-item>
                                <el-menu-item index="4-2">选项2</el-menu-item>
                            </el-menu-item-group>
                        </el-submenu>
                        <!-- 出货管理 -->
                        <el-submenu index="5">
                            <template slot="title">
                                <span>出货管理</span>
                            </template>
                            <el-menu-item-group>
                                <el-menu-item index="5-1">选项1</el-menu-item>
                                <el-menu-item index="5-2">选项2</el-menu-item>
                            </el-menu-item-group>
                        </el-submenu>
                        <!-- 进货管理 -->
                        <el-submenu index="6">
                            <template slot="title">
                                <span>进货管理</span>
                            </template>
                            <el-menu-item-group>
                                <el-menu-item index="6-1">选项1</el-menu-item>
                                <el-menu-item index="6-2">选项2</el-menu-item>
                            </el-menu-item-group>
                        </el-submenu>
                    </el-menu>
                </el-aside>
                <!-- 右侧 内容框架 -->
                <iframe src="./main.html" name="mainWrap" width="100%" height="100%" frameborder="0"></iframe>
            </el-container>
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                username : ''
            },
            created () {
                // 保留当前this
                var _this = this;
                $.get('/users/getusername', function (data) {
                    _this.username = data;
                });
            }
        });
    </script>
</body>

</html>